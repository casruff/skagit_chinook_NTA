"0","## autumn flows in year t"
"0","flow_aut <- subset(dat_flow, (month>=10 & month<=12)"
"0","                   & year >= yr_frst & year <= yr_last-age_min+n_fore)"
"0","## spring flows in year t+1"
"0","flow_spr <- subset(dat_flow,"
"0","                   (month>=1 & month<=3)"
"0","                   & year >= yr_frst+flow_lag"
"0","                   & year <= yr_last-age_min+n_fore+flow_lag)"
"0","## change spr year index to match aut"
"0","flow_spr[,""year""] <- flow_spr[,""year""] - flow_lag"
"0","## combined flows indexed to brood year & calculate max flow"
"0","dat_flow_wtr <- aggregate(flow ~ year, data = rbind(flow_aut,flow_spr), max)"
"0","dat_flow_wtr[,""flow""] <- round(dat_flow_wtr[,""flow""], 1) "
"0","## change year index to brood year"
"0","dat_flow_wtr[,""year""] <- dat_flow_wtr[,""year""] "
"0","## for plotting purpose later"
"0","colnames(dat_flow_wtr)[2] <- ""flow_wtr"""
